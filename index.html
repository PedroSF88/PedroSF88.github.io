<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Interactive Lessons</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="css/index.css"/>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
  <div id="selectedTopicTitle" class="selected-topic-title mb-3"></div>
      <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle sidebar">
        <span></span>
      </button>
  <h5 style="margin-left:2.5rem;margin-top:1.5rem;">Units</h5>
  <div id="unitMenu" class="mb-4"></div>
  <h5 style="margin-left:2.5rem;margin-top:1.5rem;">Topics</h5>
  <div id="topicMenu" class="mb-4"></div>
    </aside>
    <div class="main">
      <div id="cardList"></div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    window.SUPABASE_URL = 'https://hhlzhoqwlqsiefyiuqmg.supabase.co';
    window.SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhobHpob3F3bHFzaWVmeWl1cW1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM1NDgwOTQsImV4cCI6MjA2OTEyNDA5NH0.DnAWm_Ety74vvuRSbiSBZPuD2bCBesiDmNr8wP_mHFQ';
  </script>
  <script src="js/index.js"></script>
</body>
<script>
  const sidebar = document.querySelector('.sidebar');
  const toggleBtn = document.getElementById('sidebarToggle');
  const topicTitle = document.getElementById('selectedTopicTitle');
  toggleBtn.addEventListener('click', () => {
    sidebar.classList.toggle('collapsed');
    // When sidebar is collapsed, show the topic title and hide the menu
    if (sidebar.classList.contains('collapsed')) {
      topicTitle.style.display = '';
      document.getElementById('unitMenu').style.display = 'none';
      document.getElementById('topicMenu').style.display = 'none';
      document.getElementById('requestMenu').style.display = 'none';
      document.querySelectorAll('.sidebar h5').forEach(h => h.style.display = 'none');
    } else {
      topicTitle.style.display = 'none';
      // Restore all navigation sections/buttons if they exist
      const unitMenu = document.getElementById('unitMenu');
      const topicMenu = document.getElementById('topicMenu');
      const requestMenu = document.getElementById('requestMenu');
      if (unitMenu) {
        unitMenu.style.display = '';
        unitMenu.querySelectorAll('button').forEach(btn => btn.style.display = '');
      }
      if (topicMenu) {
        topicMenu.style.display = '';
        topicMenu.querySelectorAll('button').forEach(btn => btn.style.display = '');
      }
      if (requestMenu) {
        requestMenu.style.display = '';
        requestMenu.querySelectorAll('button').forEach(btn => btn.style.display = '');
      }
      document.querySelectorAll('.sidebar h5').forEach(h => h.style.display = '');
    }
  });
</script>
</body>
</html>
